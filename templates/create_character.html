{% extends 'base.html' %}

{% block content %}
<div class="container mt-5">
    <h2>Criar Personagem Importante</h2>
    <form method="POST" enctype="multipart/form-data" action="/create_character">
        <div class="mb-3">
            <label for="name" class="form-label">Nome do Personagem</label>
            <input type="text" class="form-control" id="name" name="name" required>
        </div>
        <!-- Campo de Raça -->
        <div class="mb-3">
            <label for="race" class="form-label">Raça</label>
            <select class="form-control" id="race" name="race" required onchange="toggleVampireFields()">
                <option value="vampiro">Vampiro</option>
                <option value="humano">Humano</option>
                <option value="demonio">Demônio</option>
                <option value="lobisomen">Lobisomen</option>
                <option value="celestial">Celestial</option>
                <!-- Adicione outras raças conforme necessário -->
            </select>
        </div>
        <!-- Campos Clã e Geração - visíveis apenas para Vampiros -->
        <div class="mb-3" id="clan-field" style="display:none;">
            <label for="clan" class="form-label">Clã:</label>
            <select class="form-control" id="clan" name="clan">
                <option value="Não Afiliado">Não Afiliado</option>
                <option value="Assamitas">Assamitas</option>
                <option value="Brujah">Brujah</option>
                <option value="Gangrel">Gangrel</option>
                <option value="Giovanni">Giovanni</option>
                <option value="Lasombra">Lassombra</option>
                <option value="Malkavianos">Malkavianos</option>
                <option value="Nosferatu">Nosferatu</option>
                <option value="Ravnos">Ravnos</option>
                <option value="Seguidores de set">Seguidores de Set</option>
                <option value="Toreador">Toreador</option>
                <option value="Tremere">Tremere</option>
                <option value="Tzmisce">Tzimisce</option>
                <option value="Ventrue">Ventrue</option>
                <option value="Caitiff">Caitiff</option>
                <option value="Sangue-ralo">Sangue-ralo</option>
            </select>
        </div>
        <div class="mb-3" id="bloodline-field" style="display:none;">
            <label for="bloodline" class="form-label">Geração:</label>
            <select class="form-control" id="bloodline" name="bloodline">
                <option value="1º Geração">1º Geração</option>
                <option value="2º Geração">2º Geração</option>
                <option value="3º Geração">3º Geração</option>
                <option value="4º Geração">4º Geração</option>
                <option value="5º Geração">5º Geração</option>
                <option value="6º Geração">6º Geração</option>
                <option value="7º Geração">7º Geração</option>
                <option value="8º Geração">8º Geração</option>
                <option value="9º Geração">9º Geração</option>
                <option value="10º Geração">10º Geração</option>
                <option value="11º Geração">11º Geração</option>
                <option value="12º Geração">12º Geração</option>
                <option value="13º Geração">13º Geração</option>
                <option value="14º Geração">14º Geração</option>
                <option value="15º Geração">15º Geração</option>
                <option value="sangue-ralo">Sangue-Ralo</option>
            </select>
        </div>
        <!-- Campo de Descrição -->
        <div class="mb-3">
            <label for="description" class="form-label">Descrição</label>
            <textarea class="form-control" id="description" name="description" rows="5" required></textarea>
        </div>
        <!-- Campo de Imagem -->
        <div class="mb-3">
            <label for="image" class="form-label">Imagem do Personagem</label>
            <input class="form-control" type="file" id="image" name="image">
        </div>
        <button type="submit" class="btn btn-primary">Criar Personagem</button>
    </form>
</div>

<!-- JavaScript para controlar a visibilidade dos campos -->
<script>
    function toggleVampireFields() {
        var race = document.getElementById("race").value;
        var clanField = document.getElementById("clan-field");
        var bloodlineField = document.getElementById("bloodline-field");

        // Mostrar campos Clã e Geração apenas para Vampiros
        if (race === "vampiro") {
            clanField.style.display = "block";
            bloodlineField.style.display = "block";
        } else {
            clanField.style.display = "none";
            bloodlineField.style.display = "none";
        }
    }

    // Executar ao carregar a página para garantir que a seleção inicial esteja correta
    document.addEventListener("DOMContentLoaded", toggleVampireFields);
</script>
{% endblock %}

